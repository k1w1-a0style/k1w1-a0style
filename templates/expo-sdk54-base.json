[
  {
    "path": "package.json",
    "content": "{\n  \"name\": \"neues-projekt\",\n  \"version\": \"1.0.0\",\n  \"description\": \"Production-ready Expo SDK 54 baseline\",\n  \"private\": true,\n  \"main\": \"node_modules/expo/AppEntry.js\",\n  \"scripts\": {\n    \"start\": \"expo start --clear\",\n    \"android\": \"expo run:android\",\n    \"ios\": \"expo run:ios\",\n    \"web\": \"expo start --web\",\n    \"lint\": \"eslint . --ext .ts,.tsx --max-warnings=0\",\n    \"typecheck\": \"tsc --noEmit\",\n    \"format\": \"prettier --write .\",\n    \"check\": \"npm run lint && npm run typecheck\"\n  },\n  \"dependencies\": {\n    \"expo\": \"~54.0.0\",\n    \"expo-constants\": \"~16.0.2\",\n    \"expo-status-bar\": \"~2.0.0\",\n    \"react\": \"18.3.1\",\n    \"react-native\": \"0.76.5\",\n    \"zod\": \"^3.23.8\"\n  },\n  \"devDependencies\": {\n    \"@babel/core\": \"^7.25.2\",\n    \"@types/react\": \"~18.3.12\",\n    \"@types/react-native\": \"~0.76.4\",\n    \"@typescript-eslint/eslint-plugin\": \"^8.0.1\",\n    \"@typescript-eslint/parser\": \"^8.0.1\",\n    \"babel-plugin-module-resolver\": \"^5.0.0\",\n    \"dotenv\": \"^16.4.5\",\n    \"eslint\": \"^9.12.0\",\n    \"eslint-config-universe\": \"^12.1.0\",\n    \"eslint-plugin-import\": \"^2.29.1\",\n    \"eslint-plugin-react\": \"^7.37.0\",\n    \"eslint-plugin-react-hooks\": \"^5.1.0\",\n    \"expo-build-properties\": \"~0.12.0\",\n    \"prettier\": \"^3.3.3\",\n    \"typescript\": \"^5.3.3\"\n  },\n  \"engines\": {\n    \"node\": \">=18.18.0\"\n  },\n  \"packageManager\": \"npm@10.9.0\"\n}\n"
  },
  {
    "path": "babel.config.js",
    "content": "module.exports = function (api) {\n  api.cache(true);\n  return {\n    presets: ['babel-preset-expo'],\n    plugins: [\n      [\n        'module-resolver',\n        {\n          extensions: ['.ts', '.tsx', '.js', '.json'],\n          alias: {\n            '@': './src',\n          },\n        },\n      ],\n    ],\n  };\n};\n"
  },
  {
    "path": "app.config.js",
    "content": "require('dotenv').config();\n\nconst APP_NAME = process.env.APP_NAME || 'Neues Projekt';\nconst SLUG = (process.env.APP_SLUG || APP_NAME)\n  .toLowerCase()\n  .replace(/[^a-z0-9-]/g, '-');\n\nconst androidConfig = {\n  package: process.env.ANDROID_PACKAGE || `com.k1w1.${SLUG}`,\n  adaptiveIcon: {\n    backgroundColor: process.env.ANDROID_ADAPTIVE_ICON_BG || '#020617',\n  },\n};\n\nif (process.env.ANDROID_ADAPTIVE_ICON) {\n  androidConfig.adaptiveIcon.foregroundImage = process.env.ANDROID_ADAPTIVE_ICON;\n}\n\nmodule.exports = {\n  expo: {\n    name: APP_NAME,\n    slug: SLUG,\n    version: '1.0.0',\n    orientation: 'portrait',\n    scheme: process.env.APP_SCHEME || SLUG,\n    userInterfaceStyle: 'automatic',\n    newArchEnabled: true,\n    assetBundlePatterns: ['**/*'],\n    splash: {\n      resizeMode: 'contain',\n      backgroundColor: '#020617',\n    },\n    updates: {\n      enabled: true,\n      checkAutomatically: 'ON_LOAD',\n      fallbackToCacheTimeout: 0,\n    },\n    ios: {\n      supportsTablet: true,\n      bundleIdentifier: process.env.IOS_BUNDLE_ID || `com.k1w1.${SLUG}`,\n    },\n    android: androidConfig,\n    web: {\n      bundler: 'metro',\n      output: 'static',\n    },\n    experiments: {\n      typedRoutes: true,\n    },\n    extra: {\n      eas: {\n        projectId: process.env.EAS_PROJECT_ID || '',\n      },\n      project: {\n        apiUrl: process.env.EXPO_PUBLIC_API_URL || '',\n        supabaseUrl: process.env.EXPO_PUBLIC_SUPABASE_URL || '',\n        supabaseAnonKey: process.env.EXPO_PUBLIC_SUPABASE_ANON_KEY || '',\n      },\n    },\n    plugins: [\n      [\n        'expo-build-properties',\n        {\n          android: {\n            compileSdkVersion: 35,\n            minSdkVersion: 24,\n            enableProguardInReleaseBuilds: true,\n          },\n          ios: {\n            useFrameworks: 'static',\n          },\n        },\n      ],\n    ],\n  },\n};\n"
  },
  {
    "path": "App.tsx",
    "content": "import React from 'react';\nimport {\n  FlatList,\n  SafeAreaView,\n  StyleSheet,\n  Text,\n  View,\n} from 'react-native';\nimport { StatusBar } from 'expo-status-bar';\nimport Constants from 'expo-constants';\nimport { env } from '@/config/env';\nimport { theme } from './theme';\n\ntype FeatureStatus = 'ready' | 'in-progress' | 'todo';\n\ntype Feature = {\n  title: string;\n  description: string;\n  status: FeatureStatus;\n};\n\nconst features: Feature[] = [\n  {\n    title: 'Strict TypeScript',\n    description: 'TS config catches dead code & invalid imports.',\n    status: 'ready',\n  },\n  {\n    title: 'Runtime env validation',\n    description: 'Zod schema prevents shipping broken API keys.',\n    status: 'ready',\n  },\n  {\n    title: 'Supabase + EAS workflow',\n    description: 'GitHub Actions file prepared for production builds.',\n    status: 'in-progress',\n  },\n];\n\nconst META_ROWS = [\n  { label: 'API Endpoint', value: env.apiUrl ?? 'noch nicht gesetzt' },\n  { label: 'Supabase URL', value: env.supabaseUrl ?? 'optional' },\n  { label: 'Build', value: Constants.expoVersion ?? 'local' },\n];\n\nconst statusMap: Record<FeatureStatus, { label: string; color: string }> = {\n  ready: { label: 'Ready', color: theme.palette.success },\n  'in-progress': { label: 'In Progress', color: theme.palette.warning },\n  todo: { label: 'To do', color: theme.palette.text.secondary },\n};\n\nconst FeatureCard = ({ feature }: { feature: Feature }) => {\n  const status = statusMap[feature.status];\n  return (\n    <View style={styles.card}>\n      <View style={styles.cardHeader}>\n        <Text style={styles.cardTitle}>{feature.title}</Text>\n        <View style={[styles.badge, { backgroundColor: status.color }]}>\n          <Text style={styles.badgeText}>{status.label}</Text>\n        </View>\n      </View>\n      <Text style={styles.cardDescription}>{feature.description}</Text>\n    </View>\n  );\n};\n\nexport default function App() {\n  return (\n    <SafeAreaView style={styles.safeArea}>\n      <StatusBar style=\"light\" />\n      <View style={styles.container}>\n        <Text style={styles.kicker}>Expo SDK 54 Template</Text>\n        <Text style={styles.title}>Neues Projekt</Text>\n        <Text style={styles.subtitle}>\n          Meinungsstarkes Template mit getesteten Defaults.\n        </Text>\n\n        <View style={styles.metaGrid}>\n          {META_ROWS.map(row => (\n            <View key={row.label} style={styles.metaCell}>\n              <View style={styles.metaCard}>\n                <Text style={styles.metaLabel}>{row.label}</Text>\n                <Text style={styles.metaValue}>{row.value}</Text>\n              </View>\n            </View>\n          ))}\n        </View>\n\n        <FlatList\n          data={features}\n          keyExtractor={item => item.title}\n          renderItem={({ item }) => <FeatureCard feature={item} />}\n          contentContainerStyle={styles.listContent}\n          showsVerticalScrollIndicator={false}\n        />\n      </View>\n    </SafeAreaView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  safeArea: {\n    flex: 1,\n    backgroundColor: theme.palette.background,\n  },\n  container: {\n    flex: 1,\n    paddingHorizontal: theme.spacing.lg,\n    paddingBottom: theme.spacing.xl,\n  },\n  kicker: {\n    color: theme.palette.accent,\n    letterSpacing: 1,\n    textTransform: 'uppercase',\n    fontSize: 12,\n    marginTop: theme.spacing.lg,\n  },\n  title: {\n    color: theme.palette.text.primary,\n    fontSize: 32,\n    fontWeight: '700',\n    marginTop: theme.spacing.sm,\n  },\n  subtitle: {\n    color: theme.palette.text.secondary,\n    fontSize: 16,\n    marginTop: theme.spacing.xs,\n    marginBottom: theme.spacing.lg,\n  },\n  metaGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    marginHorizontal: -theme.spacing.sm,\n    marginBottom: theme.spacing.lg,\n  },\n  metaCell: {\n    width: '50%',\n    paddingHorizontal: theme.spacing.sm,\n    marginBottom: theme.spacing.md,\n  },\n  metaCard: {\n    backgroundColor: theme.palette.card,\n    borderRadius: theme.borderRadius.lg,\n    borderWidth: 1,\n    borderColor: theme.palette.border,\n    padding: theme.spacing.md,\n  },\n  metaLabel: {\n    color: theme.palette.text.secondary,\n    fontSize: 12,\n    textTransform: 'uppercase',\n    letterSpacing: 1,\n  },\n  metaValue: {\n    color: theme.palette.text.primary,\n    fontSize: 16,\n    marginTop: theme.spacing.xs,\n    fontWeight: '600',\n  },\n  listContent: {\n    paddingBottom: theme.spacing.xl,\n  },\n  card: {\n    backgroundColor: theme.palette.card,\n    borderRadius: theme.borderRadius.lg,\n    padding: theme.spacing.lg,\n    borderWidth: 1,\n    borderColor: theme.palette.border,\n    marginBottom: theme.spacing.md,\n  },\n  cardHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: theme.spacing.sm,\n  },\n  cardTitle: {\n    color: theme.palette.text.primary,\n    fontSize: 18,\n    fontWeight: '600',\n  },\n  cardDescription: {\n    color: theme.palette.text.secondary,\n    fontSize: 14,\n    lineHeight: 20,\n  },\n  badge: {\n    paddingHorizontal: theme.spacing.sm,\n    paddingVertical: theme.spacing.xs,\n    borderRadius: theme.borderRadius.pill,\n  },\n  badgeText: {\n    color: '#000',\n    fontWeight: '600',\n    fontSize: 12,\n  },\n});\n"
  },
  {
    "path": "src/config/env.ts",
    "content": "import { z } from 'zod';\n\nconst schema = z.object({\n  EXPO_PUBLIC_API_URL: z.string().url().optional().or(z.literal('')),\n  EXPO_PUBLIC_SUPABASE_URL: z.string().url().optional().or(z.literal('')),\n  EXPO_PUBLIC_SUPABASE_ANON_KEY: z.string().optional().or(z.literal('')),\n});\n\nconst parsed = schema.safeParse({\n  EXPO_PUBLIC_API_URL: process.env.EXPO_PUBLIC_API_URL,\n  EXPO_PUBLIC_SUPABASE_URL: process.env.EXPO_PUBLIC_SUPABASE_URL,\n  EXPO_PUBLIC_SUPABASE_ANON_KEY: process.env.EXPO_PUBLIC_SUPABASE_ANON_KEY,\n});\n\nif (!parsed.success) {\n  console.warn('[env] Ung\u00fcltige Variablen', parsed.error.flatten().fieldErrors);\n}\n\nexport const env = {\n  apiUrl: (parsed.success && parsed.data.EXPO_PUBLIC_API_URL) || undefined,\n  supabaseUrl: (parsed.success && parsed.data.EXPO_PUBLIC_SUPABASE_URL) || undefined,\n  supabaseAnonKey:\n    (parsed.success && parsed.data.EXPO_PUBLIC_SUPABASE_ANON_KEY) || undefined,\n};\n"
  },
  {
    "path": "tsconfig.json",
    "content": "{\n  \"extends\": \"expo/tsconfig.base\",\n  \"compilerOptions\": {\n    \"strict\": true,\n    \"skipLibCheck\": true,\n    \"target\": \"ES2021\",\n    \"module\": \"ESNext\",\n    \"moduleResolution\": \"bundler\",\n    \"resolveJsonModule\": true,\n    \"noImplicitAny\": true,\n    \"noUnusedLocals\": true,\n    \"noUnusedParameters\": true,\n    \"importsNotUsedAsValues\": \"error\",\n    \"jsx\": \"react-jsx\",\n    \"baseUrl\": \".\",\n    \"paths\": {\n      \"@/*\": [\"src/*\"]\n    }\n  },\n  \"include\": [\"App.tsx\", \"src\", \"app.config.js\"],\n  \"exclude\": [\"node_modules\"]\n}\n"
  },
  {
    "path": "theme.ts",
    "content": "export const theme = {\n  palette: {\n    background: '#020617',\n    card: '#0f172a',\n    accent: '#22d3ee',\n    border: '#1e293b',\n    text: {\n      primary: '#f8fafc',\n      secondary: '#94a3b8',\n    },\n    success: '#4ade80',\n    warning: '#fbbf24',\n  },\n  spacing: {\n    xs: 4,\n    sm: 8,\n    md: 16,\n    lg: 24,\n    xl: 36,\n  },\n  borderRadius: {\n    sm: 6,\n    md: 10,\n    lg: 18,\n    pill: 999,\n  },\n  typography: {\n    fontFamily: 'System',\n    baseSize: 16,\n  },\n} as const;\n\nexport type Theme = typeof theme;\n\nexport const alpha = (hex: string, opacity: number) => {\n  const sanitized = hex.replace('#', '');\n  const bigint = parseInt(sanitized, 16);\n  const r = (bigint >> 16) & 255;\n  const g = (bigint >> 8) & 255;\n  const b = bigint & 255;\n  return `rgba(${r}, ${g}, ${b}, ${opacity})`;\n};\n"
  },
  {
    "path": "README.md",
    "content": "# Neues Projekt\n\nModerne Expo- und React-Native-Basis mit strengen Quality-Gates.\n\n## \ud83d\ude80 Schnellstart\n\n1. `cp .env.example .env`\n2. `npm install`\n3. `npm run start`\n\n## \ud83d\udce6 Scripts\n\n- `npm run start` \u2013 Metro bundler mit Cache-Reset\n- `npm run lint` \u2013 ESLint (0 Warnungen toleriert)\n- `npm run typecheck` \u2013 Strenger TypeScript-Lauf ohne Build\n- `npm run check` \u2013 Kombiniert Lint + Types\n- `npm run format` \u2013 Prettier auf dem gesamten Projekt\n\n## \ud83e\uddf1 Struktur\n\n- `App.tsx` \u2013 Beispiel-Screen + Theme-Demo\n- `src/config/env.ts` \u2013 Zod-validierte Runtime-Env-Werte\n- `theme.ts` \u2013 Zentraler Design-Token-Katalog\n- `.github/workflows/deploy-supabase-functions.yml` \u2013 EAS + Supabase Pipeline\n\n## \ud83d\udd10 Environment\n\nDie App liest nur `EXPO_PUBLIC_*` Variablen im Client. Server-seitige Secrets\nbleiben im Build-System (`app.config.js`).\n\n| Variable | Beschreibung |\n| --- | --- |\n| `APP_NAME` | Anzeigename der App |\n| `APP_SLUG` | Slug (nur Kleinbuchstaben/Bindestrich) |\n| `EXPO_PUBLIC_API_URL` | \u00d6ffentlicher API-Endpunkt |\n| `EXPO_PUBLIC_SUPABASE_URL` | Supabase URL |\n| `EXPO_PUBLIC_SUPABASE_ANON_KEY` | Anon Key f\u00fcr Supabase |\n\n## \u2705 N\u00e4chste Schritte\n\n- Eigene Icon- und Splash-Grafiken erg\u00e4nzen\n- Echte Feature-Screens unter `src/` ablegen\n- Tests + CI-Checks in GitHub Actions erweitern\n- Secrets in Expo / EAS hinterlegen\n"
  },
  {
    "path": ".eslintrc.js",
    "content": "module.exports = {\n  root: true,\n  extends: ['universe/native', 'universe/shared/typescript-analysis'],\n  env: {\n    node: true,\n  },\n  parserOptions: {\n    project: './tsconfig.json',\n  },\n  ignorePatterns: ['node_modules/', 'dist/', 'build/', 'coverage/'],\n  rules: {\n    'react/react-in-jsx-scope': 'off',\n    'react-hooks/exhaustive-deps': 'warn',\n    '@typescript-eslint/consistent-type-imports': 'warn',\n    'import/order': [\n      'warn',\n      {\n        groups: ['builtin', 'external', 'internal', 'parent', 'sibling', 'index'],\n        alphabetize: { order: 'asc', caseInsensitive: true },\n        'newlines-between': 'always',\n      },\n    ],\n  },\n};\n"
  },
  {
    "path": ".prettierrc",
    "content": "{\n  \"singleQuote\": true,\n  \"trailingComma\": \"all\",\n  \"printWidth\": 90,\n  \"semi\": true,\n  \"arrowParens\": \"avoid\"\n}\n"
  },
  {
    "path": ".env.example",
    "content": "APP_NAME=Neues Projekt\nAPP_SLUG=neues-projekt\nAPP_SCHEME=neues-projekt\nANDROID_PACKAGE=\nIOS_BUNDLE_ID=\nEAS_PROJECT_ID=\nEXPO_PUBLIC_API_URL=https://api.example.com\nEXPO_PUBLIC_SUPABASE_URL=\nEXPO_PUBLIC_SUPABASE_ANON_KEY=\n"
  },
  {
    "path": ".github/workflows/deploy-supabase-functions.yml",
    "content": "name: Supabase Triggered Build\n\non:\n  workflow_dispatch:\n    inputs:\n      job_id:\n        description: 'Supabase job identifier'\n        required: true\n        type: string\n\njobs:\n  run-eas-build:\n    name: Run EAS Build\n    runs-on: ubuntu-latest\n    timeout-minutes: 40\n    env:\n      JOB_ID: ${{ github.event.inputs.job_id }}\n      SUPABASE_URL: ${{ secrets.SUPABASE_URL }}\n      SUPABASE_SERVICE_ROLE_KEY: ${{ secrets.SUPABASE_SERVICE_ROLE_KEY }}\n\n    steps:\n      - name: Checkout repository\n        uses: actions/checkout@v4\n\n      - name: Validate inputs\n        shell: bash\n        run: |\n          set -euo pipefail\n          if [[ -z \"${JOB_ID}\" ]]; then\n            echo \"::error::job_id input is required\"\n            exit 1\n          fi\n          if [[ -z \"${SUPABASE_URL}\" || -z \"${SUPABASE_SERVICE_ROLE_KEY}\" ]]; then\n            echo \"::error::Supabase secrets not configured\"\n            exit 1\n          fi\n          echo \"\u2713 job_id ${JOB_ID}\"\n\n      - name: Setup Node.js\n        uses: actions/setup-node@v4\n        with:\n          node-version: 18.x\n          cache: 'npm'\n\n      - name: Install dependencies\n        run: npm install --no-audit --no-fund\n\n      - name: Setup Expo Application Services\n        uses: expo/expo-github-action@v8\n        with:\n          expo-version: latest\n          eas-version: latest\n          token: ${{ secrets.EXPO_TOKEN }}\n\n      - name: Update build status to \"building\"\n        shell: bash\n        env:\n          GITHUB_RUN_ID: ${{ github.run_id }}\n        run: |\n          set -euo pipefail\n          curl --fail-with-body -X PATCH \"${SUPABASE_URL}/rest/v1/build_jobs?id=eq.${JOB_ID}\" \\\n            -H \"apikey: ${SUPABASE_SERVICE_ROLE_KEY}\" \\\n            -H \"Authorization: Bearer ${SUPABASE_SERVICE_ROLE_KEY}\" \\\n            -H \"Content-Type: application/json\" \\\n            -d \"{\\\"status\\\":\\\"building\\\",\\\"github_run_id\\\":\\\"${GITHUB_RUN_ID}\\\"}\"\n\n      - name: Run EAS build\n        id: eas\n        shell: bash\n        run: |\n          set -euo pipefail\n          BUILD_OUTPUT=$(eas build --platform android --non-interactive --no-wait 2>&1)\n          echo \"$BUILD_OUTPUT\"\n          BUILD_ID=$(echo \"$BUILD_OUTPUT\" | grep -oP 'Build ID: \\K[a-f0-9-]+' || true)\n          echo \"build_id=${BUILD_ID:-unknown}\" >> \"$GITHUB_OUTPUT\"\n\n      - name: Update build status to \"completed\"\n        if: success()\n        shell: bash\n        run: |\n          set -euo pipefail\n          curl --fail-with-body -X PATCH \"${SUPABASE_URL}/rest/v1/build_jobs?id=eq.${JOB_ID}\" \\\n            -H \"apikey: ${SUPABASE_SERVICE_ROLE_KEY}\" \\\n            -H \"Authorization: Bearer ${SUPABASE_SERVICE_ROLE_KEY}\" \\\n            -H \"Content-Type: application/json\" \\\n            -d \"{\\\"status\\\":\\\"completed\\\",\\\"eas_build_id\\\":\\\"${{ steps.eas.outputs.build_id }}\\\"}\"\n\n      - name: Update build status to \"error\"\n        if: failure()\n        shell: bash\n        env:\n          GITHUB_RUN_ID: ${{ github.run_id }}\n        run: |\n          set -euo pipefail\n          curl --fail-with-body -X PATCH \"${SUPABASE_URL}/rest/v1/build_jobs?id=eq.${JOB_ID}\" \\\n            -H \"apikey: ${SUPABASE_SERVICE_ROLE_KEY}\" \\\n            -H \"Authorization: Bearer ${SUPABASE_SERVICE_ROLE_KEY}\" \\\n            -H \"Content-Type: application/json\" \\\n            -d \"{\\\"status\\\":\\\"error\\\",\\\"github_run_id\\\":\\\"${GITHUB_RUN_ID}\\\"}\"\n"
  },
  {
    "path": ".gitignore",
    "content": "node_modules/\n.expo/\n.expo-shared/\ndist/\nbuild/\nweb-build/\nios/\nandroid/\ncoverage/\n.DS_Store\n*.log\nnpm-debug.*\nyarn-error.log\n.env\n.env.*\n!.env.example\n"
  }
]
